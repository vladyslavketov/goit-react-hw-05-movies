"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[594],{581:function(n,t,e){e.d(t,{TP:function(){return a},V0:function(){return i},XT:function(){return o},jW:function(){return s},z0:function(){return u}});var c="https://api.themoviedb.org/3/",r="9cb79068ade378f45d510f1b7326cccd";function o(n,t,e){var o,i="";switch(n){case"search":o="search/movie",i="&query=".concat(e);break;case"details":o="/movie/".concat(t);break;case"cast":o="/movie/".concat(t,"/credits");break;case"reviews":o="/movie/".concat(t,"/reviews");break;case"trend":o="trending/all/day";break;default:console.log("Invalid typeOfQuery")}return fetch("".concat(c).concat(o,"?api_key=").concat(r).concat(i)).then((function(n){return n.json()}))}function i(n){return fetch("".concat(c,"search/movie?api_key=").concat(r,"&query=").concat(n)).then((function(n){return n.json()}))}function a(n){return fetch("".concat(c,"/movie/").concat(n,"?api_key=").concat(r)).then((function(n){return n.json()}))}function u(n){return fetch("".concat(c,"/movie/").concat(n,"/credits?api_key=").concat(r)).then((function(n){return n.json()}))}function s(n){return fetch("".concat(c,"/movie/").concat(n,"/reviews?api_key=").concat(r)).then((function(n){return n.json()}))}},368:function(n,t,e){e.d(t,{O:function(){return i}});var c=e(689),r=e(87),o=e(184),i=function(n){var t=n.moviesList,e=(0,c.TH)();return(0,o.jsx)("ul",{className:"moviesList",children:t.map((function(n){return(0,o.jsx)("li",{className:"moviesItem",children:(0,o.jsxs)(r.rU,{to:"/movies/".concat(n.id),state:{from:e},children:[n.title||n.name," "]})},n.id)}))})};r.rU},594:function(n,t,e){e.r(t),e.d(t,{default:function(){return f}});var c=e(439),r=e(791),o=e(87),i=e(581),a=e(184),u=function(n){var t=n.onSubmit;return(0,a.jsxs)("form",{className:"searchBox",onSubmit:function(n){return t(n)},children:[(0,a.jsx)("input",{type:"text",name:"name"}),(0,a.jsx)("button",{type:"submit",children:"Search"})]})},s=e(368),f=function(){var n=(0,r.useState)(""),t=(0,c.Z)(n,2),e=t[0],f=t[1],h=(0,r.useState)([]),m=(0,c.Z)(h,2),v=m[0],l=m[1],d=(0,o.lr)(),p=(0,c.Z)(d,2),b=p[0],j=p[1],k=v.length>0&&e;return(0,r.useEffect)((function(){f(b.get("query")),e&&(0,i.V0)(e).then((function(n){l(n.results)}))}),[e,b]),(0,a.jsxs)("section",{children:[(0,a.jsx)(u,{onSubmit:function(n){n.preventDefault();var t=n.target.name.value;f(""!==t?t:""),j(""!==t?{query:t}:{})}}),k&&(0,a.jsx)(s.O,{moviesList:v})]})}}}]);
//# sourceMappingURL=594.7e5f3a2b.chunk.js.map